<input type="file" accept="text/csv" hidden (change)="onLabeledFileUpload(fileUpload)" #fileUpload>
<div class="container mt-4 mb-6">
  <h1 class="mb-6"> Create a workflow</h1>
    <form #workflowForm="ngForm" (ngSubmit)="onCreate(workflowForm)">
      <div class="p-fluid">
        <div>
              <span class="p-float-label">
                <input type="text" id="title" [disabled]="workflow_created" pInputText name="title" ngModel required>
                <label for="title">Title</label>
              </span>
        </div>
        <br>
        <div>
          <span class="flex align-items-center gap-1 mt-2">
            <p-checkbox id="isPublic" [binary]="true" ngModel [disabled]="workflow_created" inputId="binary" name="isPublic" ></p-checkbox>
            <label style="padding-left: 0.5rem" for="isPublic">public</label>
          </span>
        </div>
        <br>
        <div class="ration-form-with">
          <span class="p-float-label mt-2">
            <p-inputNumber inputId="minmaxfraction" ngModel id="splittingRatio" mode="decimal" name="splittingRatio" [maxFractionDigits]="2"></p-inputNumber>
            <label>Splitting-Ratio in %</label>
          </span>
        </div>
      </div>
      <br>
      <button pButton class="p-button-secondary mt-2"  [disabled]="workflow_created" type="submit">Submit</button>
    </form>
</div>
<div *ngIf="workflow_created">
  <p-divider></p-divider>
  <div class="container mt-4">
    <h2 class="mb-4">Upload the datasets</h2>
    <div class="grid">
        <div class="col-4 flex align-items-center justify-content-center">
          <div class="p-fluid">
            <p>Upload a dataset in csv format. Make sure that the dataset has the cols </p> <p class="font-italic">corpus_id, entity_id, text, splitting_id.</p>
          </div>
        </div>
        <div class="col-2">
          <p-divider layout="vertical">
          </p-divider>
        </div>
        <div class="col-3 flex align-items-center justify-content-center">
          <button pButton (click)="fileUpload.click()" type="submit"
                  class="p-button-help"  label="Upload" [loading]="isLoading" icon="pi pi-arrow-circle-up"></button>
        </div>
      <div>
    </div>
    <div class="grid mt-5">
      <div class="col-2 col-offset-10">
        <button pButton type="submit"
                class="p-button-secondary ml-5" (click)="navigateWorkflowDashboard()" label="Finish"></button>
      </div>
    </div>
  </div>
</div>

