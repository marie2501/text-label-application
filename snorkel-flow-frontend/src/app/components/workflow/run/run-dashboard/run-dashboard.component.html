<div *ngIf="runLoaded|async">
  <div class="grid m-4">
    <div class="col-2">
      <p-button class="ml-4" (onClick)="executeRun()" label="Execute Run" styleClass="p-button-raised p-button-success"></p-button>
    </div>
    <div class="col-2">
      <p-button class="ml-4" (onClick)="getAnalysis()" label="Get Analysis" styleClass="p-button-raised p-button-success"></p-button>
    </div>
  </div>
  <div class="grid m-4">
    <div class="col-5">
      <div *ngIf="labelfunctions.length > 0">
        <div>
          <p-table [value]="labelfunctions" [scrollable]="true" styleClass="p-datatable-sm"
                   dataKey="id" scrollHeight="25rem">
            <ng-template pTemplate="caption">
              <th> Labelfunctions </th>
            </ng-template>
            <ng-template pTemplate="body" let-labelfunctions>
              <tr>
                <td>{{labelfunctions.name}}</td>
                <td>{{labelfunctions.creator}}</td>
                <td class="break-spaces">{{labelfunctions.code}}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
    <div class="col-7">
      <div *ngIf="analysisLoaded|async">
        <div>
          <p-table [value]="analysisModel.index" [scrollable]="true" styleClass="p-datatable-sm"
                   dataKey="index" scrollHeight="10rem">
            <ng-template pTemplate="caption">
              <th> Analysis </th>
            </ng-template>
            <ng-template pTemplate="header" let-columns>
              <tr>
                <th>
                  {{ 'Labelfunction' }}
                </th>
                <th>
                  {{ 'Coverage' }}
                </th>
                <th>
                  {{ 'Conflicts' }}
                </th>
                <th>
                  {{ 'Overlaps' }}
                </th>
                <th>
                  {{ 'Polarity' }}
                </th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-i="rowIndex">
              <tr>
                <td>{{analysisModel.index[i]}}</td>
                <td>{{analysisModel.Coverage[i]}}</td>
                <td>{{analysisModel.Conflicts[i]}}</td>
                <td>{{analysisModel.Overlaps[i]}}</td>
                <td>{{analysisModel.Polarity[i]}}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
        <div class="mt-4">
          <p-button class="ml-4" [hidden]="isLabelModelHidden"  (onClick)="openLabelModel()" label="Choose LabelModel" styleClass="p-button-raised p-button-success"></p-button>
          <div *ngIf="isLabelModelHidden">
            <app-labelvote [run_id]="run_id" (closeEvent)="closeLabelModel($event)"></app-labelvote>
          </div>
        </div>
        <div class="mt-4">
          <p-button class="ml-4" [hidden]="isFeatureHidden"  (onClick)="openFeaturExraction()" label="Extract Features" styleClass="p-button-raised p-button-success"></p-button>
          <div *ngIf="isFeatureHidden">
            <app-featurize [run_id]="run_id" [workflow_id]="workflow_id" (closeEvent)="closeFeature($event)"></app-featurize>
          </div>
        </div>
        <div class="mt-4">
          <p-button class="ml-4" [hidden]="isClassifierHidden"  (onClick)="openClassifier()" label="Extract Features" styleClass="p-button-raised p-button-success"></p-button>
          <div *ngIf="isClassifierHidden">
            <app-classifier [run_id]="run_id"  (closeEvent)="closeClassifier($event)"></app-classifier>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

